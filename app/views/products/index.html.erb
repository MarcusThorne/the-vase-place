<div class="bg-white border-b border-gray-100 w-full flex pt-8 space-x-10 pl-10 text-sm text-gray-500 pb-5 fixed z-10"
  id="categories" style="top: 60px; transition: top 0.4s;">
  <% categories = ["Glass", "Ceramic", "Nordic", "Faces", "Statues", "China", "Round", "Square"] %>
  <% categories.each do |category| %>
    <p class="hover:text-black hover:scale-105 transform duration-75"><%= category %></p>
  <% end %>
</div>

<div class="mt-24 ml-10 text-gray-500 text-xs flex space-x-5">
  <%= link_to "Home", root_path %>
  <i class="fas fa-chevron-right text-xxs"></i>
  <%= link_to "Browse", products_path %>
</div>

<div class="grid grid-cols-4">
  <% @products.each do |product| %>
    <div class="mx-5 relative w-max mx-auto my-10">
      <%= link_to product_path(product) do %>
        <%= image_tag("#{product.image}", class: "w-80 h-80 object-contain") %>
        <div class="flex justify-between w-80">
          <h1><%= product.name %></h1>
          <p><%= product.price %></p>
        </div>
        <p class="text-xs text-gray-400"><%= product.description %></p>

        <% wishlist_exists = false %>
        <% if user_signed_in? %>
          <% current_user.wishlists.each do |list| %>
            <% wishlist_exists = list.product_id == product.id %>
            <% break if wishlist_exists == true %>
          <% end %>
        <% end %>

        <% if user_signed_in? %>
          <%= link_to wishlists_update_path(product: product), remote: true do %>
            <% if wishlist_exists %>
              <i class="fas text-red-400 fa-heart absolute top-0 right-0" id="heart"></i>
            <% else %>
              <i class="far fa-heart absolute top-0 right-0" id="heart"></i>
            <% end %>
          <% end %>
        <% else %>
          <%= link_to new_user_session_path do %>
            <i class="far fa-heart absolute top-0 right-0" id="heart"></i>
          <% end %>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>

<p class="px-5 py-2 rounded-3xl border border-gray-500 text-gray-700 text-sm w-max mx-auto mb-20 mt-14 hover:bg-black hover:text-white">View more</p>
